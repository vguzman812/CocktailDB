const cocktailPath="https://www.thecocktaildb.com/api/json/v1/1/",searchEndpoint="search.php",lookupEndpoint="lookup.php",randomCocktailEndpoint="random.php",filterEndpoint="filter.php",listEndpoint="list.php";class CocktailApp{constructor(){this.cocktailPath="https://www.thecocktaildb.com/api/json/v1/1/",this.searchEndpoint="search.php",this.randomCocktailEndpoint="random.php",this.resultsSection=document.getElementById("results"),this.resultContainer=this.resultsSection.querySelector(".row"),this.directions=document.querySelector("#ingredients p"),this.directionHeading=document.querySelector("#ingredients h3"),this.searchResultsText=document.querySelector("#results p"),this.ingredientsList=document.querySelector("#ingredients ul"),this.setupFormSubmit()}setupFormSubmit(){let t=document.querySelector("form");t.addEventListener("submit",t=>this.fetchCocktailData(t))}fetchCocktailData(t){t.preventDefault();let e=document.getElementById("type-select").value,i=document.getElementById("searchInput").value,s;switch(e){case"cocktailName":s=`${this.cocktailPath}${this.searchEndpoint}?s=${i}`;break;case"random":s=`${this.cocktailPath}${this.randomCocktailEndpoint}`;break;default:console.log("Invalid option selected.");return}fetch(s).then(t=>t.json()).then(t=>{if(this.clearResults(),t.drinks&&t.drinks.length>0){let e=t.drinks[0],{strDrink:i,strDrinkThumb:s,strInstructions:n}=e;this.populateIngredientsList(e),this.updateDirections(n,i),this.updateHeaderAndImage(i,s),this.updateSearchText(t.drinks.length);let r=t.drinks.slice(1);r.forEach(t=>{let{strDrink:e,strDrinkThumb:i}=t;this.appendResultDiv(e,i)})}else console.log("No drinks found for the given search.")}).catch(t=>{console.log(`error: ${t}`)})}clearResults(){for(;this.resultContainer.firstChild;)this.resultContainer.removeChild(this.resultContainer.firstChild);this.ingredientsList.innerHTML=""}populateIngredientsList(t){for(let e=1;e<=15;e++){let i=`strIngredient${e}`,s=`strMeasure${e}`,n=t[i],r=t[s];if(n&&r){let l=document.createElement("li");l.textContent=`${r} ${n}`,this.ingredientsList.appendChild(l)}else if(n){let a=document.createElement("li");a.textContent=n,this.ingredientsList.appendChild(a)}}}updateDirections(t,e){this.directions.textContent=t,this.directionHeading.textContent=e}updateSearchText(t){t>1?this.searchResultsText.textContent="":this.searchResultsText.textContent="No other drinks to show."}updateHeaderAndImage(t,e){document.querySelector("h1").textContent=t,document.querySelector("img").src=e,document.querySelector("label").textContent="Need Another Idea?"}appendResultDiv(t,e){let i=this.createResultDiv(t,e),s=i.querySelector("img");s.addEventListener("click",()=>this.startNewSearch(t)),this.resultContainer.appendChild(i)}createResultDiv(t,e){let i=document.createElement("div");i.classList.add("col-4","col-6-medium","col-12-small");let s=document.createElement("a");s.href="#",s.classList.add("image","fit"),i.appendChild(s);let n=document.createElement("img");n.src=e,n.alt="",s.appendChild(n);let r=document.createElement("h6");return r.textContent=t,i.appendChild(r),i}startNewSearch(t){document.getElementById("searchInput").value=t,window.location.hash="#home";let e=document.querySelector("form");e.dispatchEvent(new Event("submit"))}}const cocktailApp=new CocktailApp;